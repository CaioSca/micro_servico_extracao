docker run --rm \
  --name airflow-migrate \
  --network airflow-network \
  --env-file .env \
  -e COMPONENT=migrate \
  airflow_all_in_one  


docker run -d \
  --name airflow-webserver \
  --network airflow-network \
  -p 8080:8080 \
  --env-file .env \
  -e COMPONENT=webserver \
  airflow_all_in_one


docker run -d \
  --name airflow-scheduler \
  --network airflow-network \
  --env-file .env \
  -e COMPONENT=scheduler \
  airflow_all_in_one


docker run -d \
  --name airflow-worker \
  --network airflow-network \
  --env-file .env \
  -e COMPONENT=worker \
  airflow_all_in_one


docker run -d \
  --name airflow-flower \
  --network airflow-network \
  -p 5555:5555 \
  --env-file .env \
  -e COMPONENT=flower \
  airflow_all_in_one


airflow users create \
    --username admin \
    --firstname admin \
    --lastname admin \
    --role Admin \
    --email admin@email.com \
    --password admin


docker run -d \
  --name redis-container \
  --network airflow-network \
  -p 6379:6379 \
  redis

docker build -f Dockerfile -t airflow_all_in_one .
